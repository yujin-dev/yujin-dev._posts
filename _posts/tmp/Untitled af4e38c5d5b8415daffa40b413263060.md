# Untitled

Lustre

**PerUnitStorageThroughput**

Per unit storage throughput represents the megabytes per second of read or write throughput per 1 tebibyte of storage provisioned. File system throughput capacity is equal to Storage capacity (TiB) * PerUnitStorageThroughput (MB/s/TiB). This option is only valid for `PERSISTENT_1` and `PERSISTENT_2` deployment types.
Valid values:
• For `PERSISTENT_1` SSD storage: 50, 100, 200.
• For `PERSISTENT_1` HDD storage: 12, 40.
• For `PERSISTENT_2` SSD storage: 125, 250, 500, 1000.

- seoul - deployment type : `PERSISTENT_1`
- us - deployment type : `PERSISTENT_2`

![Untitled](Untitled%20af4e38c5d5b8415daffa40b413263060/Untitled.png)

![Untitled](Untitled%20af4e38c5d5b8415daffa40b413263060/Untitled%201.png)

pulumi는 resource의 dependency에 따라 차례대로 생성된다.

```bash
$ pulumi up

Type                                  Name                          Plan       Info
 +   pulumi:pulumi:Stack                   datalake_storage-sync-s3      create     1 message
 +   ├─ aws:s3:Bucket                      sync-nasdaq-data-bucket       create     
 +   ├─ aws:ec2:Vpc                        us-east-1-default-vpc         create     
 +   ├─ aws:ec2:Subnet                     us-east-1-default-subnet      create     
 +   ├─ aws:ec2:SecurityGroup              us-east-1-default-sg          create     
 +   ├─ aws:fsx:LustreFileSystem           sync-nasdaq-data-fsx          create     
 +   ├─ aws:ec2:Instance                   sync-nasdaq-data-ec2          create     
 +   └─ aws:fsx:DataRepositoryAssociation  sync-nasdaq-data-association  create

....# subnet 생성이 실패하면서 의존성이 있는 ec2나 fsx가 생성되지 않았다.
Type                      Name                      Status                  Info
 +   pulumi:pulumi:Stack       datalake_storage-sync-s3  **creating failed**     1 error; 1 message
 +   ├─ aws:s3:Bucket          sync-nasdaq-data-bucket   created                 
 +   ├─ aws:ec2:Vpc            us-east-1-default-vpc     created                 
 +   ├─ aws:ec2:Subnet         us-east-1-default-subnet  **creating failed**     1 error
 +   └─ aws:ec2:SecurityGroup  us-east-1-default-sg      created
```